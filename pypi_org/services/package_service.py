import pypi_org.data.db_session as db_session
from pypi_org.data.package import Package
from pypi_org.data.releases import Release

def get_latest_packages():
    return [
        {"name": "flask", "version": "1.2.3"},
        {"name": "sqlalchemy", "version": "2.2.0"},
        {"name": "passlib", "version": "3.0.0"},
    ]

def get_package_count() -> int:

    session = db_session.create_session()
    return session.query(Package).count()

def get_release_count() -> int:

    session = db_session.create_session()
    return session.query(Release).count()